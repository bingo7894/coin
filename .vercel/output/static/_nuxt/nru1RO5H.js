import{h as W,ap as Y,g as tt,c as et,o as F,E as rt,G as nt,r as st,N as at,m as ot,a1 as I}from"./BYeEcd1H.js";import{p as it}from"./DLqlWRaA.js";import{u as R}from"./4KrRvqvj.js";const ct={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},lt={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase","graphassets.com":"hygraph"},ut={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},b=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.round(t)},u=(e,t,n,s,r)=>{n?(r&&(n=b(n)),e.searchParams.set(t,n.toString())):s&&e.searchParams.delete(t)},g=(e,t,n)=>{e.searchParams.has(t)||e.searchParams.set(t,n.toString())},S=(e,t)=>{const n=Number(e.searchParams.get(t));return isNaN(n)?void 0:n},q=e=>{const{pathname:t,search:n}=e;return`${t}${n}`},x=e=>e.hostname==="n"?q(e):e.toString(),m=(e,t)=>typeof e=="string"?new URL(e,t??"http://n/"):e,E=new Map(Object.entries(ct)),ft=Object.entries(lt);function mt(e){return T(e)||dt(e)}function T(e){if(typeof e=="string"&&!e.startsWith("https://"))return!1;const{hostname:t}=m(e);if(E.has(t))return E.get(t);for(const[n,s]of ft)if(t.endsWith(`.${n}`))return s;return!1}function dt(e){const{pathname:t}=m(e);for(const[n,s]of Object.entries(ut))if(t.startsWith(n))return s;return!1}const pt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return t&&t>4e3&&(n&&(n=Math.round(n*4e3/t)),t=4e3),n&&n>4e3&&(t&&(t=Math.round(t*4e3/n)),n=4e3),u(r,"w",t,!0,!0),u(r,"h",n,!0,!0),u(r,"fm",s),g(r,"fit","fill"),r},gt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"width",t,!0,!0),u(r,"height",n,!0,!0),u(r,"format",s),t&&n&&(g(r,"fit","cover"),g(r,"sharp","true")),r},ht=({url:e,width:t,height:n,format:s})=>{var a;const r=m(e);if(u(r,"w",t,!0,!0),u(r,"h",n,!0,!0),g(r,"fit","min"),s){r.searchParams.set("fm",s);const o=r.searchParams.get("auto");o==="format"?r.searchParams.delete("auto"):o!=null&&o.includes("format")&&r.searchParams.set("auto",o.split(",").filter(i=>i!=="format").join(","))}else r.searchParams.delete("fm"),(a=r.searchParams.get("auto"))!=null&&a.includes("format")||r.searchParams.append("auto","format");return r},yt=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,bt=e=>{const t=m(e),n=t.pathname.match(yt);if(!n)throw new Error("Invalid Shopify URL");const[,s,r,a,o,i,c,l]=n;t.pathname=`${s}${c}`;const f=a||t.searchParams.get("width"),d=o||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(f)||void 0,height:Number(d)||void 0,format:l?l.slice(1):void 0,params:{crop:i,size:r},cdn:"shopify"}},$t=({base:e,width:t,height:n,format:s,params:r})=>{const a=m(e);return u(a,"width",t,!0,!0),u(a,"height",n,!0,!0),u(a,"crop",r==null?void 0:r.crop),u(a,"format",s),a},St=({url:e,width:t,height:n})=>{const s=bt(e);if(!s)return;const r={...s,width:t,height:n};return $t(r)},vt=({url:e,width:t,height:n})=>{const s=m(e);return u(s,"w",t,!0,!0),u(s,"h",n,!0,!0),g(s,"crop","1"),s},wt=({url:e,width:t,height:n})=>{const s=m(e);return u(s,"w",t,!0,!0),u(s,"h",n,!0,!0),u(s,"q",S(s,"q"),!0),s},xt=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,Pt=e=>e?Object.fromEntries(e.split(",").map(t=>t.split("_"))):{},C=({host:e,cloudName:t,assetType:n,deliveryType:s,signature:r,transformations:a={},version:o,id:i,format:c})=>{c&&(a.f=c);const l=Object.entries(a).map(([d,p])=>`${d}_${p}`).join(",");return`https://${[e,t,n,s,r,l,o,i].filter(Boolean).join("/")}`},A=e=>{const n=[...m(e).toString().matchAll(xt)];if(!n.length)throw new Error("Invalid Cloudinary URL");const s=n[0].groups||{},{transformations:r="",idAndFormat:a,...o}=s;delete s.idAndFormat;const i=a.lastIndexOf("."),c=i<0?a:a.slice(0,i),l=i<0?void 0:a.slice(i+1),{w:f,h:d,f:p,...y}=Pt(r),h=p&&p!=="auto"?p:l;return{base:C({...o,id:c,transformations:y}),width:Number(f)||void 0,height:Number(d)||void 0,format:h,cdn:"cloudinary",params:{...s,id:s.deliveryType==="fetch"?a:c,format:h,transformations:y}}},Bt=({base:e,width:t,height:n,format:s,params:r})=>{var i;const a=A(e.toString()),o={transformations:{},...a.params,...r,format:s||"auto"};return t&&(o.transformations.w=b(t).toString()),n&&(o.transformations.h=b(n).toString()),(i=o.transformations).c||(i.c="lfill"),C(o)},_t=({url:e,width:t,height:n,format:s="auto"})=>{var o,i;const r=A(e);if(!r)throw new Error("Invalid Cloudinary URL");if(((o=r.params)==null?void 0:o.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((i=r.params)!=null&&i.signature)throw new Error("Cloudinary transformer does not support signed URLs");const a={...r,width:t,height:n,format:s};return Bt(a)},Ut=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,jt=e=>Object.fromEntries(e.split(",").map(t=>t.split("="))),M=({host:e,transformations:t={},path:n})=>{const s=Object.entries(t).map(([a,o])=>`${a}=${o}`).join(",");return`https://${[e,"cdn-cgi","image",s,n].join("/")}`},D=e=>{const t=m(e),n=[...t.toString().matchAll(Ut)];if(!n.length)throw new Error("Invalid Cloudflare URL");const s=n[0].groups||{},{transformations:r,...a}=s,{width:o,height:i,f:c,...l}=jt(r);return M({...a,transformations:l}),{base:t.toString(),width:Number(o)||void 0,height:Number(i)||void 0,format:c,cdn:"cloudflare",params:{...s,transformations:l}}},It=({base:e,width:t,height:n,format:s,params:r})=>{var i;const a=D(e.toString()),o={transformations:{},...a.params,...r};return t&&(o.transformations.width=t==null?void 0:t.toString()),n&&(o.transformations.height=n==null?void 0:n.toString()),s&&(o.transformations.f=s==="jpg"?"jpeg":s),(i=o.transformations).fit||(i.fit="cover"),new URL(M(o))},Rt=({url:e,width:t,height:n,format:s="auto"})=>{const r=D(e);if(!r)throw new Error("Invalid Cloudflare URL");const a={...r,width:t,height:n,format:s};return It(a)},Et=({url:e,width:t,height:n})=>{const s=m(e);return u(s,"width",t,!0,!0),t&&n&&g(s,"aspect_ratio",`${t}:${n}`),s},Nt=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,kt=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Ot=e=>e?Object.fromEntries(e.split(":").map(t=>{if(!t)return[];const[n,s]=t.split("(");return[n,s.replace(")","")]})):{},zt=e=>{if(!e)return;const t=Object.entries(e).map(([n,s])=>`${n}(${s??""})`);if(t.length!==0)return`filters:${t.join(":")}`},Lt=e=>{const t=m(e),n=t.hostname==="img2.storyblok.com"?kt:Nt,[s]=t.pathname.matchAll(n);if(!s||!s.groups)throw new Error("Invalid Storyblok URL");const{id:r,crop:a,width:o,height:i,filters:c,flipx:l,flipy:f}=s.groups,{format:d,...p}=Ot(c);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+r,width:Number(o)||void 0,height:Number(i)||void 0,format:d,params:{crop:a,filters:p,flipx:l,flipy:f},cdn:"storyblok"}},Wt=({base:e,width:t=0,height:n=0,format:s,params:r={}})=>{const{crop:a,filters:o,flipx:i="",flipy:c=""}=r,l=`${i}${t}x${c}${n}`;return new URL([e,"m",a,l,zt(o),s].filter(Boolean).join("/"))},Ft=({url:e,width:t,height:n,format:s})=>{const r=Lt(e);if(r)return s&&(r.params||(r.params={filters:{}}),r.params.filters||(r.params.filters={}),r.params.filters.format=s),Wt({...r,width:t,height:n})},qt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"w",t,!0,!0),u(r,"h",n,!0,!0),u(r,"fm",s,!0),t&&n&&g(r,"fit","crop"),r},N=e=>{const n=m(e).searchParams.get("url");if(!n||!n.startsWith("http"))return!1;const s=T(n);return s?{cdn:s,url:n}:!1},Tt=({base:e,width:t,params:{quality:n=75,root:s="_vercel"}={}})=>{const r=new URL("http://n");return r.pathname=`/${s}/image`,r.searchParams.set("url",e.toString()),u(r,"w",t,!1,!0),g(r,"q",n),q(r)},H=({url:e,width:t,cdn:n})=>{const s=m(e),r=s.pathname.startsWith("/_next/image")||s.pathname.startsWith("/_vercel/image"),a=r?s.searchParams.get("url"):e.toString();if(a)return u(s,"w",t,!0,!0),r?x(s):Tt({base:a,width:t,params:{root:n==="nextjs"?"_next":"_vercel"}})},Ct=e=>H({...e,cdn:"nextjs"}),At=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"wid",t,!0,!0),u(r,"hei",n,!0,!0),u(r,"fmt",s,!0),u(r,"qlt",S(r,"qlt"),!0),u(r,"scl",S(r,"scl"),!0),g(r,"fit","crop"),!t&&!n&&g(r,"scl",1),r},Mt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"width",t,!0,!0),u(r,"height",n,!0,!0),u(r,"format",s,!0),u(r,"quality",S(r,"quality"),!0),g(r,"enlarge",0),r},Dt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"width",t,!0,!0),u(r,"height",n,!0,!0),u(r,"format",s),u(r,"quality",S(r,"quality"),!0),r},w={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Ht(e){return Object.keys(w).find(s=>w[s]===e)||""}function Gt(e){let t=e.toString(),n=[];if(t){let s=t.split("imgeng=");s.length>1&&(n=s[1].split("/"))}return n}function Kt(e){let t=e.toString(),n="";if(t){let s=t.split("imgeng=");s.length>1?n=s[0].slice(0,-1):n=t}return n}const Vt=({url:e,width:t,height:n,format:s})=>{const r=m(e),a=Kt(r);let o={};const i=r.toString()===a?[]:Gt(r);i.length&&(o=Qt(i)),t&&(o.width=t),n&&(o.height=n),s&&(o.format=s),o.hasOwnProperty("fit")||(o={...o,fit:"cropbox"});let c=Xt(o),l=Zt(c),f=l===""?"":a.includes("?")?"&":"?";return`${a}${f}${l}`};function Xt(e){return Object.entries(e).reduce((t,[n,s])=>t+Jt(n,s),"")}function Zt(e){return e&&e!==""?`imgeng=${e}`:""}function Jt(e,t){let n=w[e];return n&&(t||t===0)?`/${n}_${t}`:""}function Qt(e){let t={};return e.forEach(n=>{let s=n.split("_");if(s.length>1){let r=s[0],a=s[1],o=Ht(r);o&&(t[o]=a)}}),t}const Yt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"width",t,!0,!0),u(r,"height",n,!0,!0),u(r,"format",s),r.searchParams.has("format")||g(r,"auto","webp"),t&&n&&g(r,"fit","crop"),r},te=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ee=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,re=e=>{var t;return Object.fromEntries(((t=e==null?void 0:e.split(","))==null?void 0:t.map(n=>n.split("=")))??[])},ne=({host:e,accountHash:t,transformations:n={},imageId:s})=>{const r=Object.entries(n).filter(([o,i])=>!!o&&i!==void 0).map(([o,i])=>`${o}=${i}`).join(",");return`https://${[...e==="imagedelivery.net"?[e]:[e,"cdn-cgi","imagedelivery"],t,s,r].join("/")}`},G=e=>{const t=m(e),n=[...t.toString().matchAll(te),...t.toString().matchAll(ee)];if(!n.length)throw new Error("Invalid Cloudflare Images URL");const s=n[0].groups||{},{transformations:r,...a}=s,{w:o,h:i,f:c,...l}=re(r);return{base:t.toString(),width:Number(o)||void 0,height:Number(i)||void 0,format:c,cdn:"cloudflare_images",params:{...a,transformations:l}}},se=({base:e,width:t,height:n,format:s,params:r})=>{var i;const a=G(e.toString()),o={transformations:{},...a.params,...r};return t&&(o.transformations.w=t==null?void 0:t.toString()),n&&(o.transformations.h=n==null?void 0:n.toString()),s&&(o.transformations.f=s),(i=o.transformations).fit||(i.fit="cover"),new URL(ne(o))},ae=({url:e,width:t,height:n,format:s="auto"})=>{const r=G(e);if(!r)throw new Error("Invalid Cloudflare Images URL");const a={...r,width:t,height:n,format:s};return se(a)},oe=e=>{const t=m(e),[n,...s]=t.pathname.split("/").slice(1),r=Object.fromEntries(n.split(",").map(a=>{const[o,i]=a.split("_");return[o,i]}));if(r.s){const[a,o]=r.s.split("x");r.w||(r.w=a),r.h||(r.h=o)}return{base:s.join("/"),width:Number(r.w)||void 0,height:Number(r.h)||void 0,quality:Number(r.q)||void 0,format:r.f||"auto",params:r,cdn:"ipx"}},k=({base:e,width:t,height:n,format:s,params:r})=>{const a=(r==null?void 0:r.modifiers)??{};t&&n?a.s=`${t}x${n}`:t?a.w=`${t}`:n&&(a.h=`${n}`),s&&(a.f=s);const o=r!=null&&r.base.endsWith("/")?r==null?void 0:r.base:`${r==null?void 0:r.base}/`,i=Object.entries(a).map(([f,d])=>`${f}_${d}`).join(","),c=e.toString(),l=c.startsWith("/")?c.slice(1):c;return`${o}${i}/${l}`},ie=e=>{var o,i,c,l;const t=String(e.url),n=m(t),s=n.pathname.startsWith("/_ipx")&&n.hostname!=="n"?`${n.origin}/_ipx`:"/_ipx",r=((i=(o=e.cdnOptions)==null?void 0:o.ipx)==null?void 0:i.base)??s;if(r&&r!=="/"&&t.startsWith(r)){const f=oe(t.replace(r,""));return k({...f,...e,params:{...(c=e.cdnOptions)==null?void 0:c.ipx,base:r}})}return k({...e,base:t,params:{...(l=e.cdnOptions)==null?void 0:l.ipx,base:r}})},ce=({url:e,width:t,height:n,format:s,cdnOptions:r})=>{var l;const a=m(e),o=x(new URL(a.pathname,a.origin)),i={searchParams:new URLSearchParams};return u(i,"href",o,!0,!0),u(i,"w",t,!0,!0),u(i,"h",n,!0,!0),u(i,"f",s),g(i,"fit","cover"),`${((l=r==null?void 0:r.astro)==null?void 0:l.endpoint)??"/_image"}?${i.searchParams.toString()}`},le=new Set(["w","h","q","fm","url","width","height","quality"]),ue=e=>{const t=m(e),n=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,s=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,r=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,a=t.searchParams.get("fm")||void 0,o=t.searchParams.get("url")||"",i={quality:r};return t.searchParams.forEach((c,l)=>{le.has(l)||(i[l]=c)}),t.search="",{base:o,width:n,height:s,format:a,params:i,cdn:"netlify"}},O=({base:e,width:t,height:n,format:s,params:{site:r,quality:a,...o}={}})=>{const i=m("/.netlify/images",r);return Object.entries(o).forEach(([c,l])=>u(i,c,l)),u(i,"q",a,!0,!0),u(i,"w",t,!0,!0),u(i,"h",n,!0,!0),u(i,"fm",s),g(i,"fit","cover"),i.searchParams.set("url",e.toString()),x(i)},fe=e=>{var n,s;const t=m(e.url);if(t.pathname.startsWith("/.netlify/images")){const{params:r,base:a,format:o}=ue(t);return O({base:a,format:o,...e,params:{...r,site:t.hostname==="n"?void 0:t.origin}})}return O({...e,base:e.url,params:{site:(s=(n=e.cdnOptions)==null?void 0:n.netlify)==null?void 0:s.site}})},me=e=>(e.searchParams.get("tr")||"").split(",").reduce((n,s)=>{const[r,a]=s.split("-");return n[r]=a,n},{}),de=({url:e,width:t,height:n,format:s})=>{const r=m(e),a=me(r);a.w=t&&Math.round(t),a.h=n&&Math.round(n),a.f||(a.f="auto"),s&&(a.f=s);const o=Object.keys(a).map(i=>{const c=a[i];if(c)return`${i}-${c}`}).filter(i=>i).join(",");return r.searchParams.set("tr",o),r},pe=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function K(e){const t=new URL(e),n=t.pathname+t.search+t.hash,s=n.lastIndexOf("http"),r=n.lastIndexOf("/");let a="";return s>=0?a=n.slice(s):r>=0&&(a=n.slice(r+1)),a}function ge(e){return e.startsWith("http")}function he(e){const t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function ye(e){const t=new URL(e),n=K(e),s=ge(n)?he(n).pathname:n;return t.pathname=t.pathname.replace(s,""),t.search="",t.hash="",t.toString()}const be=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function $e(e){const t=ye(e),n=new URL(t),s=n.pathname.indexOf("/-/");return s===-1?[]:n.pathname.substring(s).split("/-/").filter(Boolean).map(a=>be(a))}const Se=e=>e.length?e.reduce((t,n)=>{const[s,r]=n.split("/");return{...t,[s]:r}},{}):{},V=({host:e,uuid:t,operations:n={},filename:s})=>{const r=Object.entries(n).map(([o,i])=>`${o}/${i}`).join("/-/");return`https://${[e,t,r?`-/${r}`:"",s].join("/")}`},X=e=>{const t=m(e),n=[...t.toString().matchAll(pe)];if(!n.length)throw new Error("Invalid Uploadcare URL");const s=n[0].groups||{},{...r}=s,a=K(t.toString()),{format:o,...i}=Se($e(t.toString())),c=o&&o!=="auto"?o:"auto";return{base:V({...r,filename:a||void 0,operations:{...i,format:c}}),cdn:"uploadcare",params:{...s,filename:a||void 0,operations:{...i,format:c}}}},ve=({base:e,width:t,height:n,params:s})=>{const r=e.toString(),a=X(r.endsWith("/")?r:`${r}/`),o={operations:{},...a.params,...s};return t&&n?o.operations={...o.operations,resize:`${t}x${n}`}:(t&&(o.operations={...o.operations,resize:`${t}x`}),n&&(o.operations={...o.operations,resize:`x${n}`})),V(o)},we=({url:e,width:t,height:n})=>{const s=X(e);if(!s)throw new Error("Invalid Uploadcare URL");const r={...s,width:t,height:n};return ve(r)},xe=["origin"],Z="/storage/v1/object/public/",P="/storage/v1/render/image/public/",Pe=e=>e.pathname.startsWith(P),J=e=>{const t=m(e);if(!Pe(t))return{cdn:"supabase",base:t.origin+t.pathname};const s=t.pathname.replace(P,""),r=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,a=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,o=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,i=t.searchParams.has("format")?t.searchParams.get("format"):void 0,c=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+Z+s,width:a,height:o,format:i,params:{quality:r,resize:c}}},Be=({base:e,width:t,height:n,format:s,params:r})=>{const a=J(e.toString());e=a.base,t=t||a.width,n=n||a.height,s=s||a.format,r={...a.params,...r};const o=new URLSearchParams;return t&&o.set("width",b(t).toString()),n&&o.set("height",b(n).toString()),s&&xe.includes(s)&&o.set("format",s),r!=null&&r.quality&&o.set("quality",b(r.quality).toString()),r!=null&&r.resize&&o.set("resize",r.resize),o.toString()===""?e:a.base.replace(Z,P)+"?"+o.toString()},_e=({url:e,width:t,height:n,format:s,cdnOptions:r})=>{const a=J(e);return Be({base:a.base,width:t||a.width,height:n||a.height,format:s||a.format,params:(r==null?void 0:r.supabase)||a.params})},Ue=/https:\/\/(?<region>[a-z0-9-]+)\.graphassets\.com\/(?<envId>[a-z0-9]+)(?:\/(?<transformations>.*?))?\/(?<handle>[a-z0-9]+)$/,Q=e=>{var i,c,l,f;const t=e.toString(),n=t.match(Ue);if(!(n!=null&&n.length))throw new Error("Invalid Hygraph URL");const s=n.groups||{},{transformations:r,...a}=s,o=Re(r||"");return{base:t,width:Number((i=o.resize)==null?void 0:i.width)||void 0,height:Number((c=o.resize)==null?void 0:c.height)||void 0,format:o.auto_image?"auto":((f=(l=o.output)==null?void 0:l.format)==null?void 0:f.toString())||void 0,params:{transformations:o,...a},cdn:"hygraph"}},je=({base:e,width:t,height:n,format:s,params:r})=>{var c,l,f;const a=Q(e.toString()),o={transformations:{},...a.params,...r};(t||n)&&((c=o.transformations).resize||(c.resize={})),t&&n&&((l=o.transformations.resize).fit||(l.fit="crop")),t&&(o.transformations.resize.width=t),n&&(o.transformations.resize.height=n),s==="auto"?o.transformations.auto_image={}:s&&((f=o.transformations).output||(f.output={}),o.transformations.output.format=s);const i=new URL(e);return i.pathname=`/${o.envId}/${Ee(o.transformations)}/${o.handle}`,i.toString()},Ie=({url:e,width:t,height:n,format:s="auto"})=>{const r=Q(e);if(!r)throw new Error("Invalid Hygraph URL");const a={...r,width:t,height:n,format:s};return je(a)},Re=e=>e?e.split("/").reduce((t,n)=>{const[s,r]=n.split("=");return r?t[s]=r.split(",").reduce((a,o)=>{const[i,c]=o.split(":");return a[i]=isNaN(Number(c))?c:Number(c),a},{}):t[s]={},t},{}):{},Ee=e=>Object.entries(e).filter(([t,n])=>!!t&&n!==void 0).map(([t,n])=>Object.keys(n).length===0?t:`${t}=${Object.entries(n).map(([s,r])=>`${s}:${r}`).join(",")}`).join("/"),z={vercel:N,nextjs:N};function Ne(e,t){if(!(t in z))return!1;const n=z[t];return n?n(e):!1}function B(e,t){const n=mt(e)||t;if(!n)return!1;const s=Ne(e,n);return s||{cdn:n,url:e}}const _=e=>({imgix:ht,contentful:pt,"builder.io":gt,shopify:St,wordpress:vt,cloudimage:wt,cloudinary:_t,bunny:Et,storyblok:Ft,cloudflare:Rt,vercel:H,nextjs:Ct,scene7:At,"kontent.ai":qt,keycdn:Mt,directus:Dt,imageengine:Vt,contentstack:Yt,cloudflare_images:ae,ipx:ie,astro:ce,netlify:fe,imagekit:de,uploadcare:we,supabase:_e,hygraph:Ie})[e];var ke=(e,t)=>{if(!(!e||!t))switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},$=e=>e||e===0?`${e}px`:void 0,Oe=({width:e,height:t,aspectRatio:n,layout:s,objectFit:r="cover",background:a})=>{const o=[["object-fit",r]];return a!=null&&a.startsWith("https:")||a!=null&&a.startsWith("http:")||a!=null&&a.startsWith("data:")?(o.push(["background-image",`url(${a})`]),o.push(["background-size","cover"]),o.push(["background-repeat","no-repeat"])):o.push(["background",a]),s==="fixed"&&(o.push(["width",$(e)]),o.push(["height",$(t)])),s==="constrained"&&(o.push(["max-width",$(e)]),o.push(["max-height",$(t)]),o.push(["aspect-ratio",n?`${n}`:void 0]),o.push(["width","100%"])),s==="fullWidth"&&(o.push(["width","100%"]),o.push(["aspect-ratio",n?`${n}`:void 0]),o.push(["height",$(t)])),Object.fromEntries(o.filter(([,i])=>i))},ze=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],L=24,Le=({width:e,layout:t,resolutions:n=ze})=>{if(t==="fullWidth")return n;if(!e)return[];const s=e*2;return t==="fixed"?[e,s]:t==="constrained"?[e,s,...n.filter(r=>r<s)]:[]},We=({src:e,width:t,layout:n="constrained",height:s,aspectRatio:r,breakpoints:a,cdn:o,transformer:i,format:c})=>{const l=B(e,o);return l&&!i&&(i=_(l.cdn)),i?(a||(a=Le({width:t,layout:n})),a.sort((f,d)=>f-d).map(f=>{let d;return s&&r&&(d=Math.round(f/r)),{url:l?l.url:e,width:f,height:d,format:c}})):[]},Fe=e=>{let{src:t,cdn:n,transformer:s}=e;const r=B(t,n);return r&&!s&&(s=_(r.cdn)),s?We({...e,transformer:s}).map(a=>{const o=s(a);return`${o==null?void 0:o.toString()} ${a.width}w`}).join(`,
`):""};function qe({width:e,height:t,priority:n,layout:s="constrained",aspectRatio:r,...a}){return e=e&&Number(e)||void 0,t=t&&Number(t)||void 0,n?(a.loading||(a.loading="eager"),a.fetchpriority||(a.fetchpriority="high")):(a.loading||(a.loading="lazy"),a.decoding||(a.decoding="async")),a.alt===""&&(a.role||(a.role="presentation")),r?e?t||(t=e/r):t&&(e=t*r):e&&t&&(r=e/t),{width:e,height:t,aspectRatio:r,layout:s,...a}}function Te(e){let{src:t,cdn:n,transformer:s,background:r,layout:a,objectFit:o,breakpoints:i,width:c,height:l,aspectRatio:f,unstyled:d,...p}=qe(e);const y=t?B(t,n):void 0;let h=t;if(y&&(h=y.url,s||(s=_(y.cdn))),s&&r==="auto"){const v=f?Math.round(L/f):void 0,j=s({url:h,width:L,height:v});j&&(r=j.toString())}const U={width:c,height:l,aspectRatio:f,layout:a,objectFit:o,background:r};if(p.sizes||(p.sizes=ke(c,a)),d||(p.style={...Oe(U),...p.style}),s){p.srcset=Fe({src:h,width:c,height:l,aspectRatio:f,layout:a,breakpoints:i,transformer:s,cdn:n});const v=s({url:h,width:c,height:l});v&&(h=v),(a==="fullWidth"||a==="constrained")&&(c=void 0,l=void 0)}return{...p,src:h==null?void 0:h.toString(),width:c,height:l}}const Ce=W({__name:"image",props:{src:{},width:{},height:{},layout:{},cdn:{},priority:{type:Boolean},background:{},aspectRatio:{},objectFit:{},unstyled:{type:Boolean},transformer:{type:Function}},setup(e){const t=e,n=Y(),s=tt(()=>Te({...n,...t}));return(r,a)=>(F(),et("img",rt(nt(s.value)),null,16))}}),He=W({__name:"CldImage",props:{loading:{},fetchPriority:{},alt:{},width:{},height:{},config:{},layout:{},priority:{type:Boolean},background:{},src:{},assetType:{},deliveryType:{},dpr:{},format:{},quality:{},strictTransformations:{type:Boolean},aspectRatio:{},crop:{},gravity:{},zoom:{},effects:{},angle:{},art:{},autoBrightness:{type:[Boolean,String]},autoColor:{type:[Boolean,String]},autoContrast:{type:[Boolean,String]},assistColorblind:{type:[Boolean,String]},blackwhite:{type:[Boolean,String]},blur:{type:[Boolean,String]},blurFaces:{type:[Boolean,String]},blurRegion:{type:[Boolean,String]},border:{},brightness:{type:[Boolean,String]},brightnessHSB:{type:[Boolean,String]},cartoonify:{type:[Boolean,String]},color:{},colorize:{},contrast:{type:[Boolean,String]},displace:{},distort:{},fillLight:{type:[Boolean,String]},gamma:{type:[Boolean,String]},gradientFade:{type:[Boolean,String]},grayscale:{type:Boolean},hue:{type:[Boolean,String]},improve:{type:[Boolean,String]},loop:{type:[Boolean,Number,String]},multiply:{type:Boolean},negate:{type:[String,Boolean]},noise:{type:Boolean},oilPaint:{type:[String,Boolean]},opacity:{},outline:{type:[Boolean,String]},pixelate:{type:[Boolean,String]},pixelateFaces:{type:[Boolean,String]},pixelateRegion:{type:[Boolean,String]},radius:{},redeye:{type:[Boolean,String]},replaceColor:{},saturation:{type:[Boolean,String]},screen:{type:Boolean},sepia:{type:[Boolean,String]},shadow:{type:[Boolean,String]},sharpen:{type:[Boolean,String]},shear:{},simulateColorblind:{type:[Boolean,String]},tint:{type:[Boolean,String]},trim:{type:[Boolean,String]},unsharpMask:{type:[Boolean,String]},vectorize:{type:[Boolean,String]},vibrance:{type:[Boolean,String]},vignette:{type:[Boolean,String]},flags:{},namedTransformations:{},transformations:{},overlays:{},text:{},preserveTransformations:{type:Boolean},rawTransformations:{},removeBackground:{type:Boolean},sanitize:{type:Boolean},seoSuffix:{},underlay:{},underlays:{},version:{},zoompan:{type:[String,Boolean,Object]},defaultImage:{},enhance:{type:Boolean},extract:{},fillBackground:{type:[Boolean,Object]},recolor:{},remove:{},replace:{},replaceBackground:{type:[Object,String,Boolean]},restore:{type:Boolean}},setup(e){const t=e,{config:n,...s}=t,{url:r}=R({options:s,config:n}),a=()=>{const c={...t};c.width=typeof c.width=="string"?Number.parseInt(c.width):c.width,c.height=typeof c.height=="string"?Number.parseInt(c.height):c.height;const{url:l}=R({options:c,config:n});return l},o=st("image-key"),i=async c=>{const l=c.target,f=await it(l);f.error,f.success&&(o.value=`${o.value}-${Math.random()}`)};return(c,l)=>(F(),at(I(Ce),ot({key:o.value,src:I(r),layout:c.layout||"constrained",width:c.width,height:c.height},c.$attrs,{alt:c.alt,priority:c.priority,cdn:"cloudinary",transformer:a,onError:i}),null,16,["src","layout","width","height","alt","priority"]))}});export{He as default};
